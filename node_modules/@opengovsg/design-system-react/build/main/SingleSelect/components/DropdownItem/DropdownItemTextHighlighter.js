"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.DropdownItemTextHighlighter = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_2 = require("@chakra-ui/react");
const fuzzysort_1 = __importDefault(require("fuzzysort"));
const SelectContext_1 = require("../../SelectContext");
const HighlightMark = ({ children }) => {
    const { styles } = (0, SelectContext_1.useSelectContext)();
    return (0, jsx_runtime_1.jsx)(react_2.chakra.mark, { sx: styles.highlight, children: children });
};
const DropdownItemTextHighlighter = ({ inputValue, textToHighlight, }) => {
    const markedComponents = (0, react_1.useMemo)(() => {
        const result = fuzzysort_1.default.single(inputValue, textToHighlight);
        // Return the original text if no match is found.
        if (!result)
            return textToHighlight;
        return fuzzysort_1.default.highlight(result, (m, i) => ((0, jsx_runtime_1.jsx)(HighlightMark, { children: m }, i)));
    }, [inputValue, textToHighlight]);
    return (0, jsx_runtime_1.jsx)(react_2.chakra.span, { children: markedComponents });
};
exports.DropdownItemTextHighlighter = DropdownItemTextHighlighter;
