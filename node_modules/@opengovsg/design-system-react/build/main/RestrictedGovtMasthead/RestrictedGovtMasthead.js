"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RestrictedGovtMasthead = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("@chakra-ui/react");
const useIsMobile_1 = require("../hooks/useIsMobile");
const icons_1 = require("../icons");
const Link_1 = require("../Link");
const RestrictedGovtMastheadIcon_1 = require("./RestrictedGovtMastheadIcon");
const RestrictedGovtMastheadItem_1 = require("./RestrictedGovtMastheadItem");
const RestrictedHeaderBar = ({ isMobile, children, onToggle, isOpen, ariaControlId, }) => {
    const styleProps = {
        bg: 'grey.50',
        py: { base: '0.5rem', md: '0.375rem' },
        px: { base: '1.5rem', md: '1.75rem', lg: '2rem' },
        textStyle: { base: 'legal', md: 'caption-2' },
        display: 'flex',
        width: '100%',
    };
    // Mobile
    if (isMobile) {
        return ((0, jsx_runtime_1.jsxs)(react_1.chakra.button, Object.assign({ "aria-controls": ariaControlId, "aria-describedby": "masthead-aria", "aria-expanded": isOpen, _focus: {
                boxShadow: '0 0 0 2px inset var(--chakra-colors-primary-500)',
            } }, styleProps, { onClick: onToggle, children: [(0, jsx_runtime_1.jsx)(react_1.VisuallyHidden, { id: "masthead-aria", children: isOpen
                        ? 'Collapse masthead'
                        : 'Expand masthead to find out how to identify an official government website' }), children] })));
    }
    // Non-mobile
    return (0, jsx_runtime_1.jsx)(react_1.Flex, Object.assign({}, styleProps, { children: children }));
};
const RestrictedHowToIdentify = ({ isOpen, isMobile, children, onToggle, }) => {
    // Mobile
    if (isMobile) {
        return ((0, jsx_runtime_1.jsxs)(react_1.Text, { "aria-hidden": true, as: "span", color: "brand.primary.500", textDecorationLine: "underline", display: "flex", alignItems: "center", children: ["How to identify ", children] }));
    }
    // Non-mobile
    return ((0, jsx_runtime_1.jsxs)(Link_1.Link, { as: "button", tabIndex: 0, "aria-label": isOpen
            ? 'Collapse masthead'
            : 'Expand masthead to find out how to identify an official government website', onClick: onToggle, children: ["How to identify ", children] }));
};
const RestrictedGovtMasthead = ({ defaultIsOpen, ssr, }) => {
    const { onToggle, isOpen } = (0, react_1.useDisclosure)({ defaultIsOpen });
    const isMobile = (0, useIsMobile_1.useIsMobile)({ ssr });
    const ariaControlId = 'govt-masthead-expandable';
    return ((0, jsx_runtime_1.jsxs)(react_1.Box, { children: [(0, jsx_runtime_1.jsxs)(RestrictedHeaderBar, { onToggle: onToggle, isMobile: isMobile, isOpen: isOpen, ariaControlId: ariaControlId, children: [(0, jsx_runtime_1.jsx)(RestrictedGovtMastheadIcon_1.RestrictedGovtMastheadIcon, { "aria-hidden": true, fontSize: "1rem", mr: { base: '0.25rem', lg: '0.5rem' }, my: { base: '0px', md: '2px' } }), (0, jsx_runtime_1.jsxs)(react_1.Flex, { alignItems: "center", flexWrap: "wrap", children: [(0, jsx_runtime_1.jsx)(react_1.Text, { my: "2px", children: "A Singapore Government Agency Website\u2002" }), (0, jsx_runtime_1.jsx)(RestrictedHowToIdentify, { isOpen: isOpen, onToggle: onToggle, isMobile: isMobile, children: (0, jsx_runtime_1.jsx)(react_1.Icon, { "aria-hidden": true, as: isOpen ? icons_1.BxChevronUp : icons_1.BxChevronDown, fontSize: { base: '1rem', md: '1.25rem' } }) })] })] }), (0, jsx_runtime_1.jsx)(react_1.Collapse, { in: isOpen, animateOpacity: true, children: (0, jsx_runtime_1.jsxs)(react_1.Stack, { direction: { base: 'column', md: 'row' }, spacing: { base: '1rem', md: '4.5rem', lg: '9.5rem' }, bg: "grey.50", px: "2rem", py: { base: '1.5rem', md: '2.25rem', lg: '2.75rem' }, textStyle: { base: 'caption-2', lg: 'body-1' }, id: ariaControlId, "aria-hidden": !isOpen, children: [(0, jsx_runtime_1.jsx)(RestrictedGovtMastheadItem_1.RestrictedGovtMastheadItem, { icon: icons_1.BxsBank, header: "Official website links end with .gov.sg", children: (0, jsx_runtime_1.jsxs)(react_1.Box, { textStyle: { base: 'caption-2', md: 'body-1' }, children: [(0, jsx_runtime_1.jsxs)(react_1.Text, { as: "span", children: ["Government agencies communicate via ", (0, jsx_runtime_1.jsx)("b", { children: ".gov.sg" }), " websites (e.g. go.gov.sg/open).", ' '] }), (0, jsx_runtime_1.jsx)(Link_1.Link, { "aria-label": "Click to open a list of trusted sites in a new window", href: "https://go.gov.sg/trusted-sites", isExternal: true, children: "Trusted websites" })] }) }), (0, jsx_runtime_1.jsx)(RestrictedGovtMastheadItem_1.RestrictedGovtMastheadItem, { icon: icons_1.BxsLockAlt, header: "Secure websites use HTTPS", children: (0, jsx_runtime_1.jsxs)(react_1.Box, { textStyle: { base: 'caption-2', md: 'body-1' }, children: [(0, jsx_runtime_1.jsx)(react_1.Text, { as: "span", children: "Look for a lock (" }), (0, jsx_runtime_1.jsx)(react_1.Icon, { "aria-hidden": true, as: icons_1.BxsLockAlt, height: { base: '1rem', md: '1.5rem' }, verticalAlign: "bottom" }), (0, jsx_runtime_1.jsxs)(react_1.Text, { as: "span", children: [") or https:// as an added precaution.", (0, jsx_runtime_1.jsx)("br", {}), "Share sensitive information only on official, secure websites."] })] }) })] }) })] }));
};
exports.RestrictedGovtMasthead = RestrictedGovtMasthead;
