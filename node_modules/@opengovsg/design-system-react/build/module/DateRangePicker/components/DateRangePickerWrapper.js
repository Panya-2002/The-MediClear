import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Flex, forwardRef, Popover, PopoverAnchor } from '@chakra-ui/react';
import { useDateRangePicker } from '../DateRangePickerContext';
import { DateRangePickerInput } from './DateRangePickerInput';
// eslint-disable-next-line @typescript-eslint/ban-types
export const DateRangePickerWrapper = forwardRef(({ children }, ref) => {
    const { styles, disclosureProps, initialFocusRef, closeCalendarOnChange, handleFieldContainerClick, isMobile, fcProps: { isInvalid, isDisabled, isReadOnly }, } = useDateRangePicker();
    if (isMobile) {
        return (_jsxs(Flex, { children: [_jsx(Flex, { sx: styles.fieldwrapper, "aria-disabled": isDisabled, "aria-invalid": isInvalid, "aria-readonly": isReadOnly, onClick: handleFieldContainerClick, overflowX: "hidden", children: _jsx(DateRangePickerInput, { ref: ref }) }), children] }));
    }
    return (_jsx(Flex, { children: _jsxs(Popover, { placement: "bottom-start", isLazy: true, initialFocusRef: initialFocusRef, closeOnBlur: closeCalendarOnChange, returnFocusOnClose: false, ...disclosureProps, children: [_jsx(PopoverAnchor, { children: _jsx(Flex, { "aria-disabled": isDisabled, "aria-invalid": isInvalid, "aria-readonly": isReadOnly, sx: styles.fieldwrapper, onClick: handleFieldContainerClick, children: _jsx(DateRangePickerInput, { ref: ref }) }) }), children] }) }));
});
DateRangePickerWrapper.displayName = 'DateRangePickerWrapper';
