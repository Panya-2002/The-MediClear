import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Box, chakra, Collapse, Flex, Icon, Stack, Text, useDisclosure, VisuallyHidden, } from '@chakra-ui/react';
import { useIsMobile } from '../hooks/useIsMobile';
import { BxChevronDown, BxChevronUp, BxsBank, BxsLockAlt } from '../icons';
import { Link } from '../Link';
import { RestrictedGovtMastheadIcon } from './RestrictedGovtMastheadIcon';
import { RestrictedGovtMastheadItem } from './RestrictedGovtMastheadItem';
const RestrictedHeaderBar = ({ isMobile, children, onToggle, isOpen, ariaControlId, }) => {
    const styleProps = {
        bg: 'grey.50',
        py: { base: '0.5rem', md: '0.375rem' },
        px: { base: '1.5rem', md: '1.75rem', lg: '2rem' },
        textStyle: { base: 'legal', md: 'caption-2' },
        display: 'flex',
        width: '100%',
    };
    // Mobile
    if (isMobile) {
        return (_jsxs(chakra.button, { "aria-controls": ariaControlId, "aria-describedby": "masthead-aria", "aria-expanded": isOpen, _focus: {
                boxShadow: '0 0 0 2px inset var(--chakra-colors-primary-500)',
            }, ...styleProps, onClick: onToggle, children: [_jsx(VisuallyHidden, { id: "masthead-aria", children: isOpen
                        ? 'Collapse masthead'
                        : 'Expand masthead to find out how to identify an official government website' }), children] }));
    }
    // Non-mobile
    return _jsx(Flex, { ...styleProps, children: children });
};
const RestrictedHowToIdentify = ({ isOpen, isMobile, children, onToggle, }) => {
    // Mobile
    if (isMobile) {
        return (_jsxs(Text, { "aria-hidden": true, as: "span", color: "brand.primary.500", textDecorationLine: "underline", display: "flex", alignItems: "center", children: ["How to identify ", children] }));
    }
    // Non-mobile
    return (_jsxs(Link, { as: "button", tabIndex: 0, "aria-label": isOpen
            ? 'Collapse masthead'
            : 'Expand masthead to find out how to identify an official government website', onClick: onToggle, children: ["How to identify ", children] }));
};
export const RestrictedGovtMasthead = ({ defaultIsOpen, ssr, }) => {
    const { onToggle, isOpen } = useDisclosure({ defaultIsOpen });
    const isMobile = useIsMobile({ ssr });
    const ariaControlId = 'govt-masthead-expandable';
    return (_jsxs(Box, { children: [_jsxs(RestrictedHeaderBar, { onToggle: onToggle, isMobile: isMobile, isOpen: isOpen, ariaControlId: ariaControlId, children: [_jsx(RestrictedGovtMastheadIcon, { "aria-hidden": true, fontSize: "1rem", mr: { base: '0.25rem', lg: '0.5rem' }, my: { base: '0px', md: '2px' } }), _jsxs(Flex, { alignItems: "center", flexWrap: "wrap", children: [_jsx(Text, { my: "2px", children: "A Singapore Government Agency Website\u2002" }), _jsx(RestrictedHowToIdentify, { isOpen: isOpen, onToggle: onToggle, isMobile: isMobile, children: _jsx(Icon, { "aria-hidden": true, as: isOpen ? BxChevronUp : BxChevronDown, fontSize: { base: '1rem', md: '1.25rem' } }) })] })] }), _jsx(Collapse, { in: isOpen, animateOpacity: true, children: _jsxs(Stack, { direction: { base: 'column', md: 'row' }, spacing: { base: '1rem', md: '4.5rem', lg: '9.5rem' }, bg: "grey.50", px: "2rem", py: { base: '1.5rem', md: '2.25rem', lg: '2.75rem' }, textStyle: { base: 'caption-2', lg: 'body-1' }, id: ariaControlId, "aria-hidden": !isOpen, children: [_jsx(RestrictedGovtMastheadItem, { icon: BxsBank, header: "Official website links end with .gov.sg", children: _jsxs(Box, { textStyle: { base: 'caption-2', md: 'body-1' }, children: [_jsxs(Text, { as: "span", children: ["Government agencies communicate via ", _jsx("b", { children: ".gov.sg" }), " websites (e.g. go.gov.sg/open).", ' '] }), _jsx(Link, { "aria-label": "Click to open a list of trusted sites in a new window", href: "https://go.gov.sg/trusted-sites", isExternal: true, children: "Trusted websites" })] }) }), _jsx(RestrictedGovtMastheadItem, { icon: BxsLockAlt, header: "Secure websites use HTTPS", children: _jsxs(Box, { textStyle: { base: 'caption-2', md: 'body-1' }, children: [_jsx(Text, { as: "span", children: "Look for a lock (" }), _jsx(Icon, { "aria-hidden": true, as: BxsLockAlt, height: { base: '1rem', md: '1.5rem' }, verticalAlign: "bottom" }), _jsxs(Text, { as: "span", children: [") or https:// as an added precaution.", _jsx("br", {}), "Share sensitive information only on official, secure websites."] })] }) })] }) })] }));
};
